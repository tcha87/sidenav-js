!function(a){function b(a,b,c){function d(){b.call(a),a.removeEventListener(i.end,d)}c=c||300,i.supported?a.addEventListener(i.end,d):window.setTimeout(b,c)}function c(a,b,c){function d(){b.call(a),a.removeEventListener(j.end,d)}c=c||300,j.supported?a.addEventListener(j.end,d):window.setTimeout(b,c)}function d(){var a=document.createElement("div");a.classList.add(d.dropClass),this.element=a}function e(a,b){var c=a.options,d=a.element;if(a.swiping||c.open||b.dx>0&&"left"==c.position&&b.x<=c.swipeSensibility||b.dx<0&&"right"==c.position&&window.innerWidth-b.x<=c.swipeSensibility){a.swiping||(d.style.display="block",a.__saveStyle=a.element.getAttribute("style"),a.element.classList.add(c.swipeClass),c.open||(a.element.classList.remove(c.hiddenClass),h.backDrop.show()),a.swiping=!0);var e;e=c.open?"left"==c.position?Math.max(Math.min(b.dx,0),-d.offsetWidth):Math.min(Math.max(b.dx,0),d.offsetWidth):"left"==c.position?Math.min(-Math.max(d.offsetWidth-b.dx,-d.offsetWidth),0):Math.max(Math.min(d.offsetWidth+b.dx,d.offsetWidth),0),d.style.webkitTransform=d.style.transform="translate3d("+e+"px, 0, 0)",("left"==c.position&&e<=-d.offsetWidth||"right"==c.position&&e>=d.offsetWidth)&&f(a,b)}else a.swiping=!1}function f(a,b){if(a.swiping){a.swiping=!1;var c=a.options,d=a.element;a.__saveStyle?d.setAttribute("style",a.__saveStyle):d.removeAttribute("style"),delete a.__saveStyle,d.classList.remove(c.swipeClass),h.lastEvent.ddx>=0&&"left"==c.position||h.lastEvent.ddx<=0&&"right"==c.position?a.show():(h.current||h.backDrop.hide(),a.hide(!0))}}function g(a){a=a||{};for(var b in k)void 0===a[b]&&(a[b]=k[b]);return a.positionClass=a["class"]+"--"+a.position,a.hiddenClass=a["class"]+"--hide",a.transitionClass=a["class"]+"--transition",a.swipeClass=a["class"]+"--swiping",a}function h(a,b){var c=this;b=g(b),a instanceof HTMLElement&&(b.element=a),c.options=b,c.element=b.element,c.element.isSideNav=!0,c.element.classList.add(b["class"]),c.element.classList.add(b.positionClass),b.open?c.show(!0):c.hide(!0),c.useTransition=!0,c.element.classList.add(b.transitionClass),h.add(c)}var i=function(){for(var a,b,c,d=!1,e=["webkit","Moz","O",""],f=e.length,g=document.documentElement.style;f--;)if(e[f]){if(void 0!==g[e[f]+"AnimationName"]){switch(a=e[f],f){case 0:b=a.toLowerCase()+"AnimationStart",c=a.toLowerCase()+"AnimationEnd",d=!0;break;case 1:b="animationstart",c="animationend",d=!0;break;case 2:b=a.toLowerCase()+"animationstart",c=a.toLowerCase()+"animationend",d=!0}break}}else if(void 0!==g.animationName){a=e[f],b="animationstart",c="animationend",d=!0;break}return{supported:d,prefix:a,start:b,end:c}}(),j=function(){for(var a,b,c,d=!1,e=["webkit","Moz","O",""],f=e.length,g=document.documentElement.style;f--;)if(e[f]){if(void 0!==g[e[f]+"Transition"]){switch(a=e[f],f){case 0:b=a.toLowerCase()+"TransitionStart",c=a.toLowerCase()+"TransitionEnd",d=!0;break;case 1:b="transitionstart",c="transitionend",d=!0;break;case 2:b=a.toLowerCase()+"transitionstart",c=a.toLowerCase()+"transitionend",d=!0}break}}else if(void 0!==g.transition){a=e[f],b="transitionstart",c="transitionend",d=!0;break}return{supported:d,prefix:a,start:b,end:c}}();d.dropClass="back-drop",d.dropHiddenClass=d.dropClass+"--hide",d.prototype.show=function(){if(d.current!==this){d.current&&d.current.hide();var a=this.element;document.body.firstElementChild?document.body.insertBefore(a,document.body.firstElementChild):document.body.appendChild(a),d.current=this}},d.prototype.onTap=function(b){b?a.Gestures.addEventListener(this.element,"tap",b):a.Gestures.removeEventListener(this.element,"tap")},d.prototype.hide=function(){var a=this,c=a.element;b(c,function(){c.parentNode.removeChild(c),c.classList.remove(d.dropHiddenClass)}),c.classList.add(d.dropHiddenClass),d.current===this&&(d.current=void 0)};var k={"class":"sidenav",position:"left",swipe:!0,swipeSensibility:50};h.backDrop=new d,h.backDrop.onTap(function(){h.current&&h.current.hide()}),h.add=function(a){h.sidenavs=h.sidenavs||[],!h.listening&&a.options.swipe&&h.listen(),h.sidenavs.push(a)},h.listen=function(){this.listening||(this.listening=!0,a.Gestures.addEventListener(document,"track",function(a){for(var b=h.current?[h.current]:h.sidenavs,c=0,d=b.length;d>c;c++){var g=b[c];g.options.swipe&&("track"==a.state?(h.lastEvent=a,e(g,a)):"end"==a.state&&f(g,a))}"end"==a.state&&delete h.lastEvent}))},h.prototype.show=function(a){h.current&&h.current!==this&&h.current.hide();var b=this,c=this.options,d=this.element;if((!c.open||a)&&(c.open=!0,d.style.display="block",d.offsetWidth,d.classList.remove(c.hiddenClass),h.backDrop.show(),h.current=b,!a)){var e=document.createEvent("Event");e.initEvent("open",!0,!1),d.dispatchEvent(e)}},h.prototype.hide=function(a){var b=this,d=this.options,e=this.element;if((d.open||a)&&(d.open=!1,b.useTransition&&j.supported?c(e,function(){e.style.display="none"}):e.style.display="none",e.classList.add(d.hiddenClass),h.current===b&&(h.current=void 0,h.backDrop.hide()),!a)){var f=document.createEvent("Event");f.initEvent("close",!0,!1),e.dispatchEvent(f)}},h.prototype.toggle=function(){this.options.open?this.hide():this.show()},"undefined"!=typeof module&&module.exports?module.exports=h:a.SideNav=h}(this);